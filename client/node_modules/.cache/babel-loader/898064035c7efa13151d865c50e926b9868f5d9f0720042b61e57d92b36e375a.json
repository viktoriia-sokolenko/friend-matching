{"ast":null,"code":"import{useState,useEffect}from'react';import{useParams}from\"react-router-dom\";import PlaceholderImage from'../assets/logo.png';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const ViewProfile=()=>{var _student$user_profile,_student$user_profile2,_student$user_profile3,_student$user_profile4,_student$user_profile5,_student$user_profile6;let params=useParams();let id=params.id;const[student,setStudent]=useState({});useEffect(()=>{const getProfile=async()=>{const token=localStorage.getItem('access_token');try{const response=await fetch(\"/api/users/profiles/\".concat(id),{method:'GET',headers:{Authorization:\"Bearer \".concat(token)}});const data=await response.json();setStudent(data);}catch(error){console.error(\"Error fetching student profile:\",error);}};getProfile();},[id]);return/*#__PURE__*/_jsxs(\"div\",{className:\"Profile\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"icons\",src:PlaceholderImage,alt:\"Northwestern Logo\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"ProfileText\",children:[/*#__PURE__*/_jsxs(\"h1\",{children:[student.first_name,\" \",student.last_name]}),/*#__PURE__*/_jsx(\"h2\",{children:((_student$user_profile=student.user_profiles)===null||_student$user_profile===void 0?void 0:_student$user_profile.major)||'N/A'}),/*#__PURE__*/_jsxs(\"h2\",{children:[\"Class of \",((_student$user_profile2=student.user_profiles)===null||_student$user_profile2===void 0?void 0:_student$user_profile2.year)||'N/A']}),((_student$user_profile3=student.user_profiles)===null||_student$user_profile3===void 0?void 0:_student$user_profile3.rankings)&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Interests:\"}),/*#__PURE__*/_jsx(\"ul\",{children:Object.entries((_student$user_profile4=student.user_profiles)===null||_student$user_profile4===void 0?void 0:_student$user_profile4.rankings).sort((a,b)=>b[1]-a[1]).map(_ref=>{let[interest,ranking]=_ref;return/*#__PURE__*/_jsxs(\"li\",{children:[interest,\": \",ranking]},interest);})})]}),/*#__PURE__*/_jsx(\"p\",{children:((_student$user_profile5=student.user_profiles)===null||_student$user_profile5===void 0?void 0:_student$user_profile5.bio)||'No bio available'}),/*#__PURE__*/_jsx(\"h4\",{children:(_student$user_profile6=student.user_profiles)!==null&&_student$user_profile6!==void 0&&_student$user_profile6.contact_info?\"Contact me at \".concat(student.user_profiles.contact_info):'No contact info available'})]})]});};export default ViewProfile;","map":{"version":3,"names":["useState","useEffect","useParams","PlaceholderImage","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ViewProfile","_student$user_profile","_student$user_profile2","_student$user_profile3","_student$user_profile4","_student$user_profile5","_student$user_profile6","params","id","student","setStudent","getProfile","token","localStorage","getItem","response","fetch","concat","method","headers","Authorization","data","json","error","console","className","children","src","alt","first_name","last_name","user_profiles","major","year","rankings","Object","entries","sort","a","b","map","_ref","interest","ranking","bio","contact_info"],"sources":["/Users/viktoriiasokolenko/Documents/disc/my-app/client/src/pages/ViewProfile.js"],"sourcesContent":["import { useState, useEffect } from 'react'\nimport { useParams } from \"react-router-dom\";\nimport PlaceholderImage from '../assets/logo.png'\n\nconst ViewProfile = () => {\n    let params = useParams();\n    let id = params.id;\n    const [student, setStudent] = useState({})\n    useEffect(() => {\n        const getProfile = async () => {\n        const token = localStorage.getItem('access_token');\n          try {\n            const response = await fetch(`/api/users/profiles/${id}`,{\n                method: 'GET',\n                headers: {\n                    Authorization: `Bearer ${token}`,\n                },\n            });\n            const data = await response.json();\n            setStudent(data);\n          } catch (error) {\n            console.error(\"Error fetching student profile:\", error);\n          }\n        };\n        getProfile();\n      }, [id]);\n    return (\n        <div className = \"Profile\">\n            <img \n                    className = \"icons\"\n                    src={PlaceholderImage}\n                    alt={`Northwestern Logo`}\n            />\n            <div className = \"ProfileText\">\n                <h1>{student.first_name} {student.last_name}</h1>\n                <h2>{student.user_profiles?.major || 'N/A'}</h2>\n                <h2>Class of {student.user_profiles?.year || 'N/A'}</h2>\n                {student.user_profiles?.rankings && \n                (<>\n                <h4>Interests:</h4>\n                <ul>\n                {Object.entries(student.user_profiles?.rankings)\n                  .sort((a, b) => b[1] - a[1])\n                  .map(([interest, ranking]) => (\n                  <li key={interest}>\n                    {interest}: {ranking}\n                  </li>\n                ))}\n                </ul>\n                </>)\n                }\n                <p>{student.user_profiles?.bio || 'No bio available'}</p>\n                <h4>\n                  {student.user_profiles?.contact_info\n                    ? `Contact me at ${student.user_profiles.contact_info}`\n                    : 'No contact info available'}\n                </h4>\n            </div>\n        </div>\n    )\n\n}\nexport default ViewProfile;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}