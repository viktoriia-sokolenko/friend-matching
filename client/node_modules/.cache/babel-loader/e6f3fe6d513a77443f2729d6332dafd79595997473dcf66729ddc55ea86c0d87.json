{"ast":null,"code":"import _objectSpread from\"/Users/viktoriiasokolenko/Documents/disc/my-app/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{useState,useEffect}from'react';import{useAuth}from'../AuthContext';import ProfileCard from'../components/ProfileCard';import{jsx as _jsx}from\"react/jsx-runtime\";const SavedProfiles=()=>{const{savedProfiles,userId,memoizedGetInterestScore,token}=useAuth();const[profiles,setProfiles]=useState(savedProfiles);useEffect(()=>{const calculateInterestScores=async()=>{try{var _data$user_profiles,_data$user_profiles2;const response=await fetch(\"/users/profiles/\".concat(userId),{method:'GET',headers:{Authorization:\"Bearer \".concat(token)}});const data=await response.json();if((_data$user_profiles=data.user_profiles)!==null&&_data$user_profiles!==void 0&&_data$user_profiles.interests&&(_data$user_profiles2=data.user_profiles)!==null&&_data$user_profiles2!==void 0&&_data$user_profiles2.rankings){const data_with_scores=savedProfiles.map(student=>{const{rankings}=student.users.user_profiles;const interestScore=memoizedGetInterestScore(rankings,data);return _objectSpread(_objectSpread({},student),{},{interestScore});});setProfiles(data_with_scores);}}catch(error){console.error(\"Error getting interest match scores for saved profiles:\",error);}};calculateInterestScores();},[savedProfiles,userId,memoizedGetInterestScore,token]);return/*#__PURE__*/_jsx(\"div\",{className:\"Page\",children:/*#__PURE__*/_jsx(\"div\",{className:\"grid\",children:profiles.map(profile=>/*#__PURE__*/_jsx(ProfileCard,{id:profile.saved_id,firstName:profile.users.first_name,lastName:profile.users.last_name,year:profile.users.user_profiles.year,major:profile.users.user_profiles.major,bio:profile.users.user_profiles.bio,image:profile.users.profilepicture,score:profile.users.user_profiles.interestScore||0},profile.saved_id))})});};export default SavedProfiles;","map":{"version":3,"names":["useState","useEffect","useAuth","ProfileCard","jsx","_jsx","SavedProfiles","savedProfiles","userId","memoizedGetInterestScore","token","profiles","setProfiles","calculateInterestScores","_data$user_profiles","_data$user_profiles2","response","fetch","concat","method","headers","Authorization","data","json","user_profiles","interests","rankings","data_with_scores","map","student","users","interestScore","_objectSpread","error","console","className","children","profile","id","saved_id","firstName","first_name","lastName","last_name","year","major","bio","image","profilepicture","score"],"sources":["/Users/viktoriiasokolenko/Documents/disc/my-app/client/src/pages/SavedProfiles.js"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { useAuth } from '../AuthContext';\nimport ProfileCard from '../components/ProfileCard';\n\nconst SavedProfiles = () => {\n  const { savedProfiles, userId, memoizedGetInterestScore, token } = useAuth();\n  const [profiles, setProfiles] = useState (savedProfiles);\n  useEffect(() => {\n    const calculateInterestScores = async () => {\n      try {\n        const response = await fetch(`/users/profiles/${userId}`,{\n            method: 'GET',\n            headers: {\n                Authorization: `Bearer ${token}`,\n            },\n        });\n        const data = await response.json();\n        if (data.user_profiles?.interests && data.user_profiles?.rankings){\n          const data_with_scores = savedProfiles.map(student => {\n              const { rankings } = student.users.user_profiles;\n              const interestScore = memoizedGetInterestScore(rankings, data);\n              return { ...student, interestScore };\n          });\n          setProfiles(data_with_scores);\n      }\n      } catch (error) {\n        console.error(\"Error getting interest match scores for saved profiles:\", error);\n      }\n    };\n    calculateInterestScores();\n  }, [savedProfiles, userId, memoizedGetInterestScore, token]);\n  return (\n    <div className=\"Page\">\n      <div className=\"grid\">\n        {profiles.map((profile) => (\n          <ProfileCard\n            key={profile.saved_id}\n            id={profile.saved_id}\n            firstName={profile.users.first_name}\n            lastName={profile.users.last_name}\n            year={profile.users.user_profiles.year}\n            major={profile.users.user_profiles.major}\n            bio={profile.users.user_profiles.bio}\n            image={profile.users.profilepicture}\n            score={profile.users.user_profiles.interestScore || 0}\n          />\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default SavedProfiles;"],"mappings":"2IAAA,OAASA,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC3C,OAASC,OAAO,KAAQ,gBAAgB,CACxC,MAAO,CAAAC,WAAW,KAAM,2BAA2B,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAEpD,KAAM,CAAAC,aAAa,CAAGA,CAAA,GAAM,CAC1B,KAAM,CAAEC,aAAa,CAAEC,MAAM,CAAEC,wBAAwB,CAAEC,KAAM,CAAC,CAAGR,OAAO,CAAC,CAAC,CAC5E,KAAM,CAACS,QAAQ,CAAEC,WAAW,CAAC,CAAGZ,QAAQ,CAAEO,aAAa,CAAC,CACxDN,SAAS,CAAC,IAAM,CACd,KAAM,CAAAY,uBAAuB,CAAG,KAAAA,CAAA,GAAY,CAC1C,GAAI,KAAAC,mBAAA,CAAAC,oBAAA,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,oBAAAC,MAAA,CAAoBV,MAAM,EAAG,CACrDW,MAAM,CAAE,KAAK,CACbC,OAAO,CAAE,CACLC,aAAa,WAAAH,MAAA,CAAYR,KAAK,CAClC,CACJ,CAAC,CAAC,CACF,KAAM,CAAAY,IAAI,CAAG,KAAM,CAAAN,QAAQ,CAACO,IAAI,CAAC,CAAC,CAClC,GAAI,CAAAT,mBAAA,CAAAQ,IAAI,CAACE,aAAa,UAAAV,mBAAA,WAAlBA,mBAAA,CAAoBW,SAAS,GAAAV,oBAAA,CAAIO,IAAI,CAACE,aAAa,UAAAT,oBAAA,WAAlBA,oBAAA,CAAoBW,QAAQ,CAAC,CAChE,KAAM,CAAAC,gBAAgB,CAAGpB,aAAa,CAACqB,GAAG,CAACC,OAAO,EAAI,CAClD,KAAM,CAAEH,QAAS,CAAC,CAAGG,OAAO,CAACC,KAAK,CAACN,aAAa,CAChD,KAAM,CAAAO,aAAa,CAAGtB,wBAAwB,CAACiB,QAAQ,CAAEJ,IAAI,CAAC,CAC9D,OAAAU,aAAA,CAAAA,aAAA,IAAYH,OAAO,MAAEE,aAAa,GACtC,CAAC,CAAC,CACFnB,WAAW,CAACe,gBAAgB,CAAC,CACjC,CACA,CAAE,MAAOM,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,yDAAyD,CAAEA,KAAK,CAAC,CACjF,CACF,CAAC,CACDpB,uBAAuB,CAAC,CAAC,CAC3B,CAAC,CAAE,CAACN,aAAa,CAAEC,MAAM,CAAEC,wBAAwB,CAAEC,KAAK,CAAC,CAAC,CAC5D,mBACEL,IAAA,QAAK8B,SAAS,CAAC,MAAM,CAAAC,QAAA,cACnB/B,IAAA,QAAK8B,SAAS,CAAC,MAAM,CAAAC,QAAA,CAClBzB,QAAQ,CAACiB,GAAG,CAAES,OAAO,eACpBhC,IAAA,CAACF,WAAW,EAEVmC,EAAE,CAAED,OAAO,CAACE,QAAS,CACrBC,SAAS,CAAEH,OAAO,CAACP,KAAK,CAACW,UAAW,CACpCC,QAAQ,CAAEL,OAAO,CAACP,KAAK,CAACa,SAAU,CAClCC,IAAI,CAAEP,OAAO,CAACP,KAAK,CAACN,aAAa,CAACoB,IAAK,CACvCC,KAAK,CAAER,OAAO,CAACP,KAAK,CAACN,aAAa,CAACqB,KAAM,CACzCC,GAAG,CAAET,OAAO,CAACP,KAAK,CAACN,aAAa,CAACsB,GAAI,CACrCC,KAAK,CAAEV,OAAO,CAACP,KAAK,CAACkB,cAAe,CACpCC,KAAK,CAAEZ,OAAO,CAACP,KAAK,CAACN,aAAa,CAACO,aAAa,EAAI,CAAE,EARjDM,OAAO,CAACE,QASd,CACF,CAAC,CACC,CAAC,CACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAjC,aAAa","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}